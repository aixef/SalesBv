<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <actionCalls>
        <name>enviar_para_aprobaci_n_registro_Wallet</name>
        <label>enviar para aprobación registro Wallet</label>
        <locationX>2150</locationX>
        <locationY>884</locationY>
        <actionName>submit</actionName>
        <actionType>submit</actionType>
        <inputParameters>
            <name>objectId</name>
            <value>
                <elementReference>IdPromocion</elementReference>
            </value>
        </inputParameters>
    </actionCalls>
    <assignments>
        <name>Asignar_Afiliaciones</name>
        <label>Asignar Afiliaciones</label>
        <locationX>1714</locationX>
        <locationY>290</locationY>
        <assignmentItems>
            <assignToReference>AfiliacionesWallet</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Afiliaciones</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Categorias_imagenes</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Mostrar_Error</name>
        <label>Mostrar Error</label>
        <locationX>1716</locationX>
        <locationY>559</locationY>
        <assignmentItems>
            <assignToReference>v_ErrordeImagenVacia</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Categorias_imagenes</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>RellenarError1</name>
        <label>RellenarError1</label>
        <locationX>298</locationX>
        <locationY>411</locationY>
        <assignmentItems>
            <assignToReference>ErrordeComercioWalletVacio</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>ComercioWallet_0</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>No</name>
        <choiceText>No</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>false</stringValue>
        </value>
    </choices>
    <choices>
        <name>Si</name>
        <choiceText>Sí</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>true</stringValue>
        </value>
    </choices>
    <decisions>
        <name>A_adir_Categor_as</name>
        <label>Añadir Categorías</label>
        <locationX>1056</locationX>
        <locationY>480</locationY>
        <defaultConnector>
            <targetReference>Fechas_rellenar</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No añadir Categorías</defaultConnectorLabel>
        <rules>
            <name>S_a_adir_categor_as</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Deseas_A_adir_otra_categor_a_a_la_Promoci_n</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Elige_Categorias_Secundarias</targetReference>
            </connector>
            <label>Sí añadir categorías</label>
        </rules>
    </decisions>
    <decisions>
        <name>Campania_Regional</name>
        <label>¿Campaña Regional?</label>
        <locationX>1469</locationX>
        <locationY>333</locationY>
        <defaultConnector>
            <targetReference>Categorias_imagenes</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>La Campaña no es Regional</defaultConnectorLabel>
        <rules>
            <name>La_campa_a_es_Regional</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>v_CampaniaRegional</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>No</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>AfiliacionesWallet</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>P_de_afiliaciones</targetReference>
            </connector>
            <label>La campaña es Regional</label>
        </rules>
    </decisions>
    <decisions>
        <name>Fechas_rellenar</name>
        <label>¿Fechas rellenar?</label>
        <locationX>1163</locationX>
        <locationY>331</locationY>
        <defaultConnector>
            <targetReference>Fechas_de_promoci_n</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Se debe informar las fechas</defaultConnectorLabel>
        <rules>
            <name>Fechas_rellenas</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>VR_CampaniaADQ.StartDate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>VR_CampaniaADQ.EndDate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>VR_CampaniaADQ.MX_WF_Fecha_de_publicacion__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Necesita_URL</targetReference>
            </connector>
            <label>Fechas rellenas</label>
        </rules>
    </decisions>
    <decisions>
        <name>Imagen_vac_a</name>
        <label>¿Imagen vacía?</label>
        <locationX>1931</locationX>
        <locationY>515</locationY>
        <defaultConnector>
            <targetReference>Obtener_url_de_la_imagen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Ya se seleccionó imágen</defaultConnectorLabel>
        <rules>
            <name>No_se_ha_seleccionado_una_imagen</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>NombreImagen</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Mostrar_Error</targetReference>
            </connector>
            <label>No se ha seleccionado una imagen</label>
        </rules>
    </decisions>
    <decisions>
        <name>Necesita_URL</name>
        <label>¿Necesita URL?</label>
        <locationX>1296</locationX>
        <locationY>336</locationY>
        <defaultConnector>
            <targetReference>Campania_Regional</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Sólo física</defaultConnectorLabel>
        <rules>
            <name>Online</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Tipos_de_uso</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Online</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>URL_de_Promocion</targetReference>
            </connector>
            <label>Online</label>
        </rules>
    </decisions>
    <decisions>
        <name>No_se_establece_categor_a</name>
        <label>No se establece categoría</label>
        <locationX>1052</locationX>
        <locationY>664</locationY>
        <defaultConnector>
            <targetReference>A_adir_Categor_as</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Síhaycategoría</defaultConnectorLabel>
        <rules>
            <name>No_hay_Categor_a</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>IDCategoriaPrincipal</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Sin_categor_a_principal</targetReference>
            </connector>
            <label>No hay Categoría</label>
        </rules>
    </decisions>
    <decisions>
        <name>No_se_ha_seleccionado_comercio_Wallet</name>
        <label>No se ha seleccionado comercio Wallet</label>
        <locationX>351</locationX>
        <locationY>220</locationY>
        <defaultConnector>
            <targetReference>ObtenerComercioWALLET</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Comercio Wallet seleccionado</defaultConnectorLabel>
        <rules>
            <name>No_se_ha_seleccionado_Comercio_Wallet0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>IDComercioWallet</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>RellenarError1</targetReference>
            </connector>
            <label>No se ha seleccionado Comercio Wallet</label>
        </rules>
    </decisions>
    <decisions>
        <name>Variable_ClienteID</name>
        <label>Variable ClienteID</label>
        <locationX>292</locationX>
        <locationY>52</locationY>
        <defaultConnector>
            <targetReference>ComercioWallet_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Comercio  vacío</defaultConnectorLabel>
        <rules>
            <name>Comercio_Adquirente_no_vacio</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>IDComercioAdquirente</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Obtener_el_comercio_de_adquirente</targetReference>
            </connector>
            <label>Comercio no vacío</label>
        </rules>
    </decisions>
    <dynamicChoiceSets>
        <name>Categoriadelaimagen</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>MX_WF_Categor_as_de_la_imagen__c</picklistField>
        <picklistObject>MX_WF_Catalogo_Comercios_Wallet__c</picklistObject>
        <sortOrder>Asc</sortOrder>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>CategoriasLista</name>
        <dataType>String</dataType>
        <displayField>Name</displayField>
        <filters>
            <field>MX_WF_Vigente__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Si</stringValue>
            </value>
        </filters>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>0121b0000008kP8AAI</stringValue>
            </value>
        </filters>
        <object>MX_WF_Catalogo_Comercios_Wallet__c</object>
        <outputAssignments>
            <assignToReference>v_Categoria_txt</assignToReference>
            <field>Name</field>
        </outputAssignments>
        <sortField>Name</sortField>
        <sortOrder>Asc</sortOrder>
        <valueField>Id</valueField>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>ImagenesOpcionRegistros</name>
        <dataType>String</dataType>
        <displayField>MX_WF_imagen__c</displayField>
        <filters>
            <field>MX_WF_Categor_as_de_la_imagen__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Categor_a_de_Im_genes</elementReference>
            </value>
        </filters>
        <filters>
            <field>Tipo_de_cat_logo__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Imagen</stringValue>
            </value>
        </filters>
        <object>MX_WF_Catalogo_Comercios_Wallet__c</object>
        <outputAssignments>
            <assignToReference>NombreImagen</assignToReference>
            <field>Name</field>
        </outputAssignments>
        <valueField>Name</valueField>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>LS_PromocionDestacada</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>MX_WF_La_promoci_n_es_destacada__c</picklistField>
        <picklistObject>MX_WF_Wallet__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>OtroTipoDescuento_opcRegistro</name>
        <dataType>String</dataType>
        <displayField>Name</displayField>
        <filters>
            <field>Tipo_de_cat_logo__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Otro tipo de descuento</stringValue>
            </value>
        </filters>
        <object>MX_WF_Catalogo_Comercios_Wallet__c</object>
        <outputAssignments>
            <assignToReference>OtroDescuentoID</assignToReference>
            <field>Id</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>CodigoOtroDescuento</assignToReference>
            <field>MX_WF_Codigo__c</field>
        </outputAssignments>
        <sortField>Name</sortField>
        <sortOrder>Asc</sortOrder>
        <valueField>Name</valueField>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>TarjetaAplicable1_LSM</name>
        <dataType>Multipicklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>MX_WF_Tarjetas_aplicables__c</picklistField>
        <picklistObject>MX_WF_Wallet__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>TipoDescuento_opcRegi</name>
        <dataType>String</dataType>
        <displayField>Name</displayField>
        <filters>
            <field>MX_WF_Codigo__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CodigoOtroDescuento</elementReference>
            </value>
        </filters>
        <filters>
            <field>Tipo_de_cat_logo__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Descuento</stringValue>
            </value>
        </filters>
        <object>MX_WF_Catalogo_Comercios_Wallet__c</object>
        <outputAssignments>
            <assignToReference>TipoDescuentoID</assignToReference>
            <field>Id</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>v_NombreDescuento</assignToReference>
            <field>Name</field>
        </outputAssignments>
        <valueField>Name</valueField>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>TipoUso</name>
        <dataType>Multipicklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>MX_WF_Tipos_de_uso__c</picklistField>
        <picklistObject>MX_WF_Wallet__c</picklistObject>
    </dynamicChoiceSets>
    <formulas>
        <name>f_FechaFinPromocion</name>
        <dataType>Date</dataType>
        <expression>IF(ISBLANK({!VR_CampaniaADQ.EndDate}), {!Fecha_fin_promoci_n}, {!VR_CampaniaADQ.EndDate})</expression>
    </formulas>
    <formulas>
        <name>f_FechaInicioPromo</name>
        <dataType>Date</dataType>
        <expression>IF(ISBLANK({!VR_CampaniaADQ.StartDate}), {!Fecha_inicio_promoci_n}, {!VR_CampaniaADQ.StartDate})</expression>
    </formulas>
    <formulas>
        <name>f_FechaPublicacion</name>
        <dataType>Date</dataType>
        <expression>IF(ISBLANK({!VR_CampaniaADQ.MX_WF_Fecha_de_publicacion__c}), {!Fecha_de_publicaci_n},{!VR_CampaniaADQ.MX_WF_Fecha_de_publicacion__c})</expression>
    </formulas>
    <formulas>
        <name>f_Keywords</name>
        <dataType>String</dataType>
        <expression>IF({!IDComercioAdquirente}=&quot;&quot;, &quot;&quot;,  {!VR_ComercioAdquirente.MX_WF_Keywords__c})</expression>
    </formulas>
    <formulas>
        <name>f_MostrarErrorCampaniaVacia</name>
        <dataType>String</dataType>
        <expression>IF({!v_ErrordeImagenVacia}, &quot;Debes seleccionar un comercio&quot;, &quot;&quot;)</expression>
    </formulas>
    <formulas>
        <name>f_MostrarTextoDebesSeleccionarComercio</name>
        <dataType>String</dataType>
        <expression>IF({!ErrordeComercioWalletVacio}, &quot;Debes seleccionar un comercio&quot;, &quot;&quot;)</expression>
    </formulas>
    <formulas>
        <name>f_NombrePromo</name>
        <dataType>String</dataType>
        <expression>IF({!IDComercioWallet}&lt;&gt;{!VR_ComercioAdquirente.MX_WF_Comercio_WALLET_relacionado__c},&quot;&quot;, {!NombreComercioWALLET}&amp; &quot; &quot; &amp; {!v_NombreDescuento})</expression>
    </formulas>
    <formulas>
        <name>f_PromocionCorta</name>
        <dataType>String</dataType>
        <expression>IF({!IDComercioWallet}&lt;&gt;{!VR_ComercioAdquirente.MX_WF_Comercio_WALLET_relacionado__c}, &quot;&quot;,  {!VR_ComercioAdquirente.MX_WF_Palabra_clave__c}&amp; &quot; &quot; &amp; {!VR_ComercioAdquirente.Name}&amp; &quot; &quot; &amp; {!v_NombreDescuento})</expression>
    </formulas>
    <formulas>
        <name>f_ReseniaComercio</name>
        <dataType>String</dataType>
        <expression>IF( {!IDComercioWallet}=&quot;&quot;, &quot;&quot;, {!VR_ComercioAdquirente.MX_WF_Rese_a_de_comercio__c})</expression>
    </formulas>
    <formulas>
        <name>f_URLComercio</name>
        <dataType>String</dataType>
        <expression>IF( {!IDComercioWallet}=&quot;&quot;, &quot;&quot;, {!VR_ComercioAdquirente.MX_WF_Url_Comercio__c})</expression>
    </formulas>
    <formulas>
        <name>LacampaniatienePromoDestacada</name>
        <dataType>Boolean</dataType>
        <expression>IF({!La_promoci_n_es_destacada}=&quot;Sí&quot;, TRUE, FALSE)</expression>
    </formulas>
    <formulas>
        <name>TextoErrorCategoriaPrincipal</name>
        <dataType>String</dataType>
        <expression>IF({!ErrorNohaycategoriaprincipal}=TRUE, &quot;Debes seleccionar una categoría&quot;, &quot;&quot;)</expression>
    </formulas>
    <formulas>
        <name>TextoErrorImagenVacia</name>
        <dataType>String</dataType>
        <expression>IF( {!v_ErrordeImagenVacia}, &quot;Debes seleccionar una imagen para la promoción&quot;, &quot;&quot;)</expression>
    </formulas>
    <interviewLabel>Promociones WALLET {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Promociones WALLET</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <name>Crear_registro_WALLET</name>
        <label>Crear registro WALLET</label>
        <locationX>2149</locationX>
        <locationY>530</locationY>
        <assignRecordIdToReference>IdPromocion</assignRecordIdToReference>
        <connector>
            <targetReference>Finflujo</targetReference>
        </connector>
        <inputAssignments>
            <field>MX_WF_Afiliaciones__c</field>
            <value>
                <elementReference>AfiliacionesWallet</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Campania__c</field>
            <value>
                <elementReference>IDCampana</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Categor_a_Secundaria_1__c</field>
            <value>
                <elementReference>IDCategoriaSec1</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Categor_a_Secundaria_2__c</field>
            <value>
                <elementReference>IDCategoriaSec2</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Categor_a_Secundaria_3__c</field>
            <value>
                <elementReference>IDcategoriaSec3</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Categorias__c</field>
            <value>
                <elementReference>IDCategoriaPrincipal</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Comercio__c</field>
            <value>
                <elementReference>IDComercioWallet</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Fecha_de_publicacion__c</field>
            <value>
                <elementReference>f_FechaPublicacion</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Fecha_fin__c</field>
            <value>
                <elementReference>f_FechaFinPromocion</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Fecha_inicio__c</field>
            <value>
                <elementReference>f_FechaInicioPromo</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Imagen__c</field>
            <value>
                <elementReference>NombreImagen</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Keywords_de_busqueda__c</field>
            <value>
                <elementReference>Keyword</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_La_promoci_n_es_destacada__c</field>
            <value>
                <elementReference>La_promoci_n_es_destacada</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Nombre_de_promocion__c</field>
            <value>
                <elementReference>Nombre_de_promocion</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Otro_Tipo_de_Descuento__c</field>
            <value>
                <elementReference>OtroDescuentoID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Promocion_Corta__c</field>
            <value>
                <elementReference>Promocion_Corta</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Promocion_extendida__c</field>
            <value>
                <elementReference>Promocion_extendida</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Resenia_de_comercio__c</field>
            <value>
                <elementReference>Rese_a_de_comercio</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Restricciones__c</field>
            <value>
                <elementReference>Restricciones</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Tarjetas_aplicables__c</field>
            <value>
                <elementReference>Grupo_de_tarjetas_aplicables</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Tipo_de_descuento__c</field>
            <value>
                <elementReference>TipoDescuentoID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Tipos_de_uso__c</field>
            <value>
                <elementReference>Tipos_de_uso</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_URL_de_la_imagen__c</field>
            <value>
                <elementReference>UrlImagen</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Url_Comercio__c</field>
            <value>
                <elementReference>Url_Comercio</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_WF_Url_promocion__c</field>
            <value>
                <elementReference>URL_Promocion</elementReference>
            </value>
        </inputAssignments>
        <object>MX_WF_Wallet__c</object>
    </recordCreates>
    <recordLookups>
        <name>BuscarCampa_a</name>
        <label>BuscarCampaña</label>
        <locationX>896</locationX>
        <locationY>199</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>ComercioWallet</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>IDCampana</elementReference>
            </value>
        </filters>
        <object>Campaign</object>
        <outputReference>VR_CampaniaADQ</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>StartDate</queriedFields>
        <queriedFields>EndDate</queriedFields>
        <queriedFields>MX_WF_Fecha_de_publicacion__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Obtener_comercio_WALLET</name>
        <label>Obtener comercio WALLET</label>
        <locationX>896</locationX>
        <locationY>57</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>BuscarCampa_a</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>VR_ComercioAdquirente.MX_WF_Comercio_WALLET_relacionado__c</elementReference>
            </value>
        </filters>
        <object>MX_WF_Catalogo_Comercios_Wallet__c</object>
        <outputAssignments>
            <assignToReference>IDComercioWallet</assignToReference>
            <field>Id</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>NombreComercioWALLET</assignToReference>
            <field>Name</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Obtener_el_comercio_de_adquirente</name>
        <label>Obtener el comercio de adquirente</label>
        <locationX>699</locationX>
        <locationY>57</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Obtener_comercio_WALLET</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>IDComercioAdquirente</elementReference>
            </value>
        </filters>
        <object>Account</object>
        <outputReference>VR_ComercioAdquirente</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Name</queriedFields>
        <queriedFields>MX_WF_Rese_a_de_comercio__c</queriedFields>
        <queriedFields>MX_WF_Url_Comercio__c</queriedFields>
        <queriedFields>MX_WF_Comercio_WALLET_relacionado__c</queriedFields>
        <queriedFields>MX_WF_Tipo_De_Servicio__c</queriedFields>
        <queriedFields>MX_WF_Keywords__c</queriedFields>
        <queriedFields>MX_WF_Palabra_clave__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Obtener_url_de_la_imagen</name>
        <label>Obtener url de la imagen</label>
        <locationX>2149</locationX>
        <locationY>344</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Crear_registro_WALLET</targetReference>
        </connector>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>NombreImagen</elementReference>
            </value>
        </filters>
        <object>MX_WF_Catalogo_Comercios_Wallet__c</object>
        <outputAssignments>
            <assignToReference>UrlImagen</assignToReference>
            <field>MX_WF_imgURL__c</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>ObtenerComercioWALLET</name>
        <label>Obtener ComercioWALLET</label>
        <locationX>706</locationX>
        <locationY>207</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>BuscarCampa_a</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>IDComercioWallet</elementReference>
            </value>
        </filters>
        <object>MX_WF_Catalogo_Comercios_Wallet__c</object>
        <outputAssignments>
            <assignToReference>NombreComercioWALLET</assignToReference>
            <field>Name</field>
        </outputAssignments>
    </recordLookups>
    <screens>
        <name>Categorias_imagenes</name>
        <label>Categorías imágenes</label>
        <locationX>1715</locationX>
        <locationY>433</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Imagenes</targetReference>
        </connector>
        <fields>
            <name>Texto_ayuda_categorias</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 14px; color: rgb(208, 18, 18);&quot;&gt; {!TextoErrorImagenVacia}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Selecciona la categoría de las imágenes que quieras examinar&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Categor_a_de_Im_genes</name>
            <choiceReferences>Categoriadelaimagen</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Categoría de Imágenes</fieldText>
            <fieldType>RadioButtons</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>ComercioWallet</name>
        <label>Comercio Wallet</label>
        <locationX>900</locationX>
        <locationY>327</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Tipo_de_promoci_n</targetReference>
        </connector>
        <fields>
            <name>RegistroWallet</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;font-size: 14px;&quot;&gt;Creación de promoción WALLET&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Rese_a_de_comercio</name>
            <defaultValue>
                <stringValue>{!VR_ComercioAdquirente.MX_WF_Rese_a_de_comercio__c}</stringValue>
            </defaultValue>
            <fieldText>Reseña de comercio ( máximo 500 caracteres, no son permitidos saltos de líneas)</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>true</isRequired>
            <validationRule>
                <errorMessage>&lt;p&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;El campo Reseña de comercio no puede contener más de &lt;/span&gt;&lt;b style=&quot;color: rgb(234, 22, 22);&quot;&gt;500 &lt;/b&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;caracteres y solo acepta, además de &lt;/span&gt;&lt;b style=&quot;color: rgb(234, 22, 22);&quot;&gt;acentos&lt;/b&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;, los siguientes símbolos especiales:&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;color: rgb(234, 22, 22);&quot;&gt;/ $ ? * , ( ) = + @ &amp;gt;&amp;nbsp;# &amp;amp; _ ; . : % &apos; -&amp;nbsp;&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;</errorMessage>
                <formulaExpression>AND(
(LEN({!Rese_a_de_comercio})&lt;=500),
REGEX({!Rese_a_de_comercio}, &quot;[A-ZÁÉÍÓÚÜa-záéíóúü0-9$¿?¡!-*Ññ,()=+@&gt;#&amp;_;.:%-/ .]*&quot;)
)</formulaExpression>
            </validationRule>
        </fields>
        <fields>
            <name>Url_Comercio</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>VR_ComercioAdquirente.MX_WF_Url_Comercio__c</elementReference>
            </defaultValue>
            <fieldText>Url Comercio</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
            <validationRule>
                <errorMessage>&lt;p&gt;La URL debe contener el protocolo http o https&lt;/p&gt;</errorMessage>
                <formulaExpression>CONTAINS({!Url_Comercio}, &quot;http&quot;)</formulaExpression>
            </validationRule>
        </fields>
        <fields>
            <name>Tipos_de_uso</name>
            <choiceReferences>TipoUso</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Tipos de uso</fieldText>
            <fieldType>MultiSelectPicklist</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>La_promoci_n_es_destacada</name>
            <choiceReferences>LS_PromocionDestacada</choiceReferences>
            <dataType>String</dataType>
            <fieldText>¿La promoción es destacada?</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>ComercioWallet_0</name>
        <label>Comercio Wallet</label>
        <locationX>219</locationX>
        <locationY>218</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>No_se_ha_seleccionado_comercio_Wallet</targetReference>
        </connector>
        <fields>
            <name>RegistroWallet_0</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;font-size: 14px;&quot;&gt;Creación de promoción WALLET&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Elige el comercio que quieres asociar esta promoción&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Nombre_Comercio_0</name>
            <extensionName>c:MX_WF_LookupComponent</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>objectApiName</name>
                <value>
                    <stringValue>MX_WF_Wallet__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>fieldName</name>
                <value>
                    <stringValue>MX_WF_Comercio__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>selectedRecordId</name>
                <value>
                    <elementReference>IDComercioWallet</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>IDComercioWallet</assignToReference>
                <name>selectedRecordId</name>
            </outputParameters>
        </fields>
        <fields>
            <name>DebesSeleccionarunComercioWallet</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;{!f_MostrarTextoDebesSeleccionarComercio}&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Campania_WALLET_0</name>
            <extensionName>c:MX_WF_LookupComponent</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>fieldName</name>
                <value>
                    <stringValue>MX_WF_Campania__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>objectApiName</name>
                <value>
                    <stringValue>MX_WF_Wallet__c</stringValue>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>IDCampana</assignToReference>
                <name>selectedRecordId</name>
            </outputParameters>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Elige_Categorias_Secundarias</name>
        <label>Elige Categorías Secundarias</label>
        <locationX>1048</locationX>
        <locationY>143</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Fechas_rellenar</targetReference>
        </connector>
        <fields>
            <name>Categoria_secundaria_1</name>
            <extensionName>c:MX_WF_LookupComponent</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>objectApiName</name>
                <value>
                    <stringValue>MX_WF_Wallet__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>fieldName</name>
                <value>
                    <stringValue>MX_WF_Categor_a_Secundaria_1__c</stringValue>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>IDCategoriaSec1</assignToReference>
                <name>selectedRecordId</name>
            </outputParameters>
        </fields>
        <fields>
            <name>Categoria_secundaria_2</name>
            <extensionName>c:MX_WF_LookupComponent</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>objectApiName</name>
                <value>
                    <stringValue>MX_WF_Wallet__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>fieldName</name>
                <value>
                    <stringValue>MX_WF_Categor_a_Secundaria_2__c</stringValue>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>IDCategoriaSec2</assignToReference>
                <name>selectedRecordId</name>
            </outputParameters>
        </fields>
        <fields>
            <name>Categoria_secundaria_3</name>
            <extensionName>c:MX_WF_LookupComponent</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>objectApiName</name>
                <value>
                    <stringValue>MX_WF_Wallet__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>fieldName</name>
                <value>
                    <stringValue>MX_WF_Categor_a_Secundaria_3__c</stringValue>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>IDcategoriaSec3</assignToReference>
                <name>selectedRecordId</name>
            </outputParameters>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Fechas_de_promoci_n</name>
        <label>Fechas de promoción</label>
        <locationX>1192</locationX>
        <locationY>105</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Necesita_URL</targetReference>
        </connector>
        <fields>
            <name>Fecha_inicio_promoci_n</name>
            <dataType>Date</dataType>
            <fieldText>Fecha inicio promoción</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>Fecha_fin_promoci_n</name>
            <dataType>Date</dataType>
            <fieldText>Fecha fin promoción</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
            <validationRule>
                <errorMessage>&lt;p&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;La fecha de fin no puede ser anterior a la fecha de inicio&lt;/span&gt;&lt;/p&gt;</errorMessage>
                <formulaExpression>{!Fecha_fin_promoci_n}&gt;={!Fecha_inicio_promoci_n}</formulaExpression>
            </validationRule>
        </fields>
        <fields>
            <name>Fecha_de_publicaci_n</name>
            <dataType>Date</dataType>
            <fieldText>Fecha de publicación</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
            <validationRule>
                <errorMessage>&lt;p&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;La fecha de publicación no puede ser posterior a la fecha de fin ni menor o igual a la fecha de hoy&lt;/span&gt;&lt;/p&gt;</errorMessage>
                <formulaExpression>AND( {!Fecha_de_publicaci_n}&lt;={!Fecha_fin_promoci_n},
{!Fecha_de_publicaci_n} &gt;= TODAY()
)</formulaExpression>
            </validationRule>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Finflujo</name>
        <label>Fin flujo</label>
        <locationX>2148</locationX>
        <locationY>754</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>enviar_para_aprobaci_n_registro_Wallet</targetReference>
        </connector>
        <fields>
            <name>RegistroCreado</name>
            <fieldText>El registro de WALLET ha sido creado exitosamente</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Imagenes</name>
        <label>Imágenes</label>
        <locationX>1853</locationX>
        <locationY>352</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Imagen_vac_a</targetReference>
        </connector>
        <fields>
            <name>Im_genes_Wallet</name>
            <choiceReferences>ImagenesOpcionRegistros</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Imágenes Wallet</fieldText>
            <fieldType>RadioButtons</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>P_de_afiliaciones</name>
        <label>P de afiliaciones</label>
        <locationX>1713</locationX>
        <locationY>173</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Asignar_Afiliaciones</targetReference>
        </connector>
        <fields>
            <name>Texto_de_ayuda_de_afiliaciones</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: sans-serif; font-size: 12px;&quot;&gt;Favor de indicar las afiliaciones participantes  a &lt;/span&gt;&lt;b style=&quot;color: rgb(0, 0, 0); font-family: sans-serif; font-size: 12px;&quot;&gt;7 dígitos separados por una coma&lt;/b&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: sans-serif; font-size: 12px;&quot;&gt;.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: sans-serif; font-size: 12px;&quot;&gt;Ejemplo: &lt;/span&gt;0233148,0233155,0233197,0273623,0299552&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Afiliaciones</name>
            <fieldText>Afiliaciones</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Promociones</name>
        <label>Promociones</label>
        <locationX>717</locationX>
        <locationY>667</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>No_se_establece_categor_a</targetReference>
        </connector>
        <fields>
            <name>Nombre_de_promocion</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>f_NombrePromo</elementReference>
            </defaultValue>
            <fieldText>Nombre de promoción (máximo 100 caracteres)</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
            <validationRule>
                <errorMessage>&lt;p&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;El campo Nombre de promoción no puede contener más de &lt;/span&gt;&lt;b style=&quot;color: rgb(234, 22, 22);&quot;&gt;100 &lt;/b&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;caracteres y solo acepta, además de &lt;/span&gt;&lt;b style=&quot;color: rgb(234, 22, 22);&quot;&gt;acentos&lt;/b&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;, los siguientes símbolos especiales:&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;color: rgb(234, 22, 22);&quot;&gt;/ $ ? * , ( ) = + @ &amp;gt;&amp;nbsp;# &amp;amp; _ ; . : % &apos; -&amp;nbsp;&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;</errorMessage>
                <formulaExpression>AND(
(LEN({!Nombre_de_promocion})&lt;=100),
REGEX({!Nombre_de_promocion}, &quot;[A-ZÁÉÍÓÚÜa-záéíóúü0-9$¿?¡!-*Ññ,()=+@&gt;#&amp;_;.:%-/ .]*&quot;)
)</formulaExpression>
            </validationRule>
        </fields>
        <fields>
            <name>Promocion_Corta</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>f_PromocionCorta</elementReference>
            </defaultValue>
            <fieldText>Promoción corta (máximo 200 caracteres)</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
            <validationRule>
                <errorMessage>&lt;p&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;El campo Promoción corta no puede contener más de &lt;/span&gt;&lt;b style=&quot;color: rgb(234, 22, 22);&quot;&gt;200 &lt;/b&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;caracteres y solo acepta, además de &lt;/span&gt;&lt;b style=&quot;color: rgb(234, 22, 22);&quot;&gt;acentos&lt;/b&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;, los siguientes símbolos especiales:&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;color: rgb(234, 22, 22);&quot;&gt;/ $ ? * , ( ) = + @ &amp;gt;&amp;nbsp;# &amp;amp; _ ; . : % &apos; -&amp;nbsp;&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;</errorMessage>
                <formulaExpression>AND(
(LEN({!Promocion_Corta})&lt;=200),
REGEX({!Promocion_Corta}, &quot;[A-ZÁÉÍÓÚÜa-záéíóúü0-9$¿?¡!-*Ññ,()=+@&gt;#&amp;_;.:%-/ .]*&quot;)
)</formulaExpression>
            </validationRule>
        </fields>
        <fields>
            <name>Promocion_extendida</name>
            <fieldText>Promoción extendida ( máximo 500 caracteres, no se permiten saltos de línea)</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>true</isRequired>
            <validationRule>
                <errorMessage>&lt;p&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;El campo Promoción extendida no puede contener más de &lt;/span&gt;&lt;b style=&quot;color: rgb(234, 22, 22);&quot;&gt;500 &lt;/b&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;caracteres y solo acepta, además de &lt;/span&gt;&lt;b style=&quot;color: rgb(234, 22, 22);&quot;&gt;acentos&lt;/b&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;, los siguientes símbolos especiales:&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;color: rgb(234, 22, 22);&quot;&gt;/ $ ? * , ( ) = + @ &amp;gt;&amp;nbsp;# &amp;amp; _ ; . : % &apos; -&amp;nbsp;&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;</errorMessage>
                <formulaExpression>AND(
(LEN({!Promocion_extendida})&lt;=500),
REGEX({!Promocion_extendida}, &quot;[A-ZÁÉÍÓÚÜa-záéíóúü0-9$¿?¡!-*Ññ,()=+@&gt;#&amp;_;.:%-/ .]*&quot;)
)</formulaExpression>
            </validationRule>
        </fields>
        <fields>
            <name>Restricciones</name>
            <fieldText>Restricciones (máximo 500 caracteres, no se permiten saltos de línea)</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>true</isRequired>
            <validationRule>
                <errorMessage>&lt;p&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;El campo Restricciones no puede contener más de &lt;/span&gt;&lt;b style=&quot;color: rgb(234, 22, 22);&quot;&gt;500 &lt;/b&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;caracteres y solo acepta, además de &lt;/span&gt;&lt;b style=&quot;color: rgb(234, 22, 22);&quot;&gt;acentos&lt;/b&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;, los siguientes símbolos especiales:&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;color: rgb(234, 22, 22);&quot;&gt;/ $ ? * , ( ) = + @ &amp;gt;&amp;nbsp;# &amp;amp; _ ; . : % &apos; -&amp;nbsp;&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;</errorMessage>
                <formulaExpression>AND(
(LEN({!Restricciones})&lt;=500),
REGEX({!Restricciones}, &quot;[A-ZÁÉÍÓÚÜa-záéíóúü0-9$¿?¡!-*Ññ,()=+@&gt;#&amp;_;.:%-/ .]*&quot;)
)</formulaExpression>
            </validationRule>
        </fields>
        <fields>
            <name>Grupo_de_tarjetas_aplicables</name>
            <choiceReferences>TarjetaAplicable1_LSM</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Grupo de tarjetas aplicables</fieldText>
            <fieldType>MultiSelectPicklist</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>Keyword</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>f_Keywords</elementReference>
            </defaultValue>
            <fieldText>Keyword (máximo 250 caracteres)</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
            <validationRule>
                <errorMessage>&lt;p&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;El campo Keywords no puede contener más de &lt;/span&gt;&lt;b style=&quot;color: rgb(234, 22, 22);&quot;&gt;250 &lt;/b&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;caracteres y solo acepta, además de &lt;/span&gt;&lt;b style=&quot;color: rgb(234, 22, 22);&quot;&gt;acentos&lt;/b&gt;&lt;span style=&quot;color: rgb(234, 22, 22);&quot;&gt;, los siguientes símbolos especiales:&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;color: rgb(234, 22, 22);&quot;&gt;/ $ ? * , ( ) = + @ &amp;gt;&amp;nbsp;# &amp;amp; _ ; . : % &apos; -&amp;nbsp;&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;</errorMessage>
                <formulaExpression>AND(
(LEN({!Keyword})&lt;=250),
REGEX({!Keyword}, &quot;[A-ZÁÉÍÓÚÜa-záéíóúü0-9$¿?¡!-*Ññ,()=+@&gt;#&amp;_;.:%-/ .]*&quot;)
)</formulaExpression>
            </validationRule>
        </fields>
        <fields>
            <name>ErrorCategoria</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;color: rgb(208, 18, 18);&quot;&gt;{!TextoErrorCategoriaPrincipal}&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Categoria_principal</name>
            <extensionName>c:MX_WF_LookupComponent</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>fieldName</name>
                <value>
                    <stringValue>MX_WF_Categorias__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>objectApiName</name>
                <value>
                    <stringValue>MX_WF_Wallet__c</stringValue>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>IDCategoriaPrincipal</assignToReference>
                <name>selectedRecordId</name>
            </outputParameters>
        </fields>
        <fields>
            <name>Deseas_A_adir_otra_categor_a_a_la_Promoci_n</name>
            <choiceReferences>Si</choiceReferences>
            <choiceReferences>No</choiceReferences>
            <dataType>String</dataType>
            <defaultSelectedChoiceReference>Si</defaultSelectedChoiceReference>
            <fieldText>¿Deseas Añadir otra categoría a la Promoción?</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Promociones_0</name>
        <label>Promociones</label>
        <locationX>716</locationX>
        <locationY>488</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Promociones</targetReference>
        </connector>
        <fields>
            <name>Promocion</name>
            <choiceReferences>TipoDescuento_opcRegi</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Promoción</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Sin_categor_a_principal</name>
        <label>Sin categoría principal</label>
        <locationX>1228</locationX>
        <locationY>661</locationY>
        <allowBack>true</allowBack>
        <allowFinish>false</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>TextoSinCategoria</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Debes seleccionar una &lt;/span&gt;&lt;b style=&quot;font-size: 14px;&quot;&gt;categoría&lt;/b&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt; para esta promoción.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Has clic en &quot;&lt;/span&gt;&lt;b style=&quot;font-size: 14px;&quot;&gt;Anterior&lt;/b&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&quot; para poder especificar la categoría de la promoción&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Tipo_de_promoci_n</name>
        <label>Tipo de promoción</label>
        <locationX>716</locationX>
        <locationY>327</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Promociones_0</targetReference>
        </connector>
        <fields>
            <name>Elige_el_tipo_de_promocion</name>
            <choiceReferences>OtroTipoDescuento_opcRegistro</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Elige el tipo de promoción</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>URL_de_Promocion</name>
        <label>URL de Promoción</label>
        <locationX>1379</locationX>
        <locationY>106</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Campania_Regional</targetReference>
        </connector>
        <fields>
            <name>URL_Promocion</name>
            <dataType>String</dataType>
            <fieldText>URL Promoción</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
            <validationRule>
                <errorMessage>&lt;p&gt;La URL de la promoción debe incluir el protocolo http o https&lt;/p&gt;</errorMessage>
                <formulaExpression>CONTAINS({!URL_Promocion}, &quot;http&quot;)</formulaExpression>
            </validationRule>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <startElementReference>Variable_ClienteID</startElementReference>
    <status>Active</status>
    <variables>
        <name>AfiliacionesWallet</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>borrar</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>a1f1b0000006lqWAAQ</stringValue>
        </value>
    </variables>
    <variables>
        <name>CodigoOtroDescuento</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>ErrordeComercioWalletVacio</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>ErrorNohaycategoriaprincipal</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>IDCampana</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>IDCategoriaPrincipal</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>IDcategorias21</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>IDCategoriaSec1</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>IDCategoriaSec2</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>IDcategoriaSec3</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>IDComercioAdquirente</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>IDComercioWallet</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>IdPromocion</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>NombreComercioWALLET</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>NombreImagen</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>NombreOtroDescuento</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>OtroDescuentoID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>TipoDescuentoID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>UrlImagen</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_CampaniaRegional</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_Categoria_txt</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_CategoriaImagenSeleccionada</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_ErrordeImagenVacia</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>v_NombreDescuento</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>v_Tarjetas</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Guarda los campos llenados en el flujo</description>
        <name>VR_CampaniaADQ</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Campaign</objectType>
    </variables>
    <variables>
        <name>VR_ComercioAdquirente</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>Account</objectType>
    </variables>
    <variables>
        <name>VRC</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>MX_WF_Catalogo_Comercios_Wallet__c</objectType>
    </variables>
    <variables>
        <name>WalletID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
</Flow>
